<div>
   <%= form_tag(books_path, method: :get, id: 'genre-form') do %>
          <label for="genre">Select Genre:</label>
             <%= select_tag(:genre_id, options_for_select(Genre.all.map { |g| [g.name, g.id] }, params[:genre_id]), include_blank: 'All Genres', id: 'genre-select') %>
        <% end %>

 <% if @genre %>
        <h2>Books in Genre: <%= @genre.name %></h2>
         <div>
        <% @books.each do |book| %>
            <%= render book%>
        <%end%>
        </div>
 <% else %>
        <h2>All Books</h2>
         <div>
        <% @books.each do |book| %>
                <%= render book%>
        <%end%>
         </div>
  <%end%>


    <% if @books.empty? %>
        <h3>No books found in <%= @association_name %>.</h3>
    <% end %>

</div>
